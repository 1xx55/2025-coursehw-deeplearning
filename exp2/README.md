### 豆瓣网页信息爬取小程序

功能：爬取当地近期热映和即将上映的电影列表并按豆瓣评分排序展示。

由于不太清楚写什么好，而且爬虫很多网站都有反爬，随便搜了一下，干脆就爬豆瓣算了。

豆瓣也有反爬机制，这导致本作业爬取部分的脚本几乎为“一次性脚本”。两次使用间隔保守估计半小时。如果想短时间反复跑爬虫脚本，可以考虑更换网络或者代理（但伪造x-forwarded-for没用）。

### 具体介绍
1. `DouBanFilmViewer.py` : 爬虫脚本。无输入参数，输出为工作目录下一个名为`{城市名}.txt`的文件。其中`{城市名}`由你的网络ip决定，我直接采用了豆瓣网识别的结果。txt中保存了当地近期热映和即将上映的电影的所有信息。
2. `VisualInWeb.py` : 展示脚本。可以从前面爬虫生成的txt中提取影片信息，按豆瓣评分排序后显示在网页中。该脚本会同时打开两个html，其中一个展示近期热映影片信息，另一个展示即将上映影片信息。若影片无豆瓣评分，排序时放在最后。

### 使用方法
在你的python环境中先后运行`DouBanFilmViewer.py`和`VisualInWeb.py`即可。本作业代码所用的库`requests` `BeautifulSoup` `webbrowser`均为常见库，如果缺少请自行安装。

### 注意事项
1. 若要使用本目录下的已有爬虫结果`合肥.txt`，请把工作目录设在 `/exp2`。
2. 爬虫爬取时间较长，请耐心等待(主要是time.sleep(1)的缘故)。若观察到爬虫输出城市名为`豆瓣`，则为被网站反爬机制制裁。此时会得到一个空的`豆瓣.txt`。
3. html展示部分网页样式为联网下载css / js后加载，无网络状态下启动展示脚本可能会出现未加载网页样式的情况。